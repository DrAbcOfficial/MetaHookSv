<Window
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:MetahookInstallerAvalonia.ViewModels"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:views="clr-namespace:MetahookInstallerAvalonia.Views"
    xmlns:lang="clr-namespace:MetahookInstallerAvalonia.Lang"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="500"
        x:Class="MetahookInstallerAvalonia.Views.MainWindow"
        Icon="/Assets/avalonia-logo.ico"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent"
        ExtendClientAreaToDecorationsHint="True"
        ExtendClientAreaTitleBarHeightHint="-1"
        ExtendClientAreaChromeHints="NoChrome"
        CanResize="False"
         Width="800" Height="500">
    <Window.Styles>
        <Style Selector="Button.title-bar-btn">
            <Setter Property="Width" Value="36"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        <Style Selector="Button.title-bar-btn:hover">
            <Setter Property="Background" Value="#334155"/>
        </Style>
        <Style Selector="Button.title-bar-btn.close:hover">
            <Setter Property="Background" Value="#EF4444"/>
        </Style>
        <Style Selector="TextBlock.title-text">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Foreground" Value="#F8FAFC"/>
        </Style>
    </Window.Styles>
    <Window.Resources>
        <StreamGeometry x:Key="arrow_left_regular">M12.7347,4.20949 C13.0332,3.92233 13.508,3.93153 13.7952,4.23005 C14.0823,4.52857 14.0731,5.00335 13.7746,5.29051 L5.50039,13.25 L24.2532,13.25 C24.6674,13.25 25.0032,13.5858 25.0032,13.9999982 C25.0032,14.4142 24.6674,14.75 24.2532,14.75 L5.50137,14.75 L13.7746,22.7085 C14.0731,22.9957 14.0823,23.4705 13.7952,23.769 C13.508,24.0675 13.0332,24.0767 12.7347,23.7896 L3.30673,14.7202 C2.89776,14.3268 2.89776,13.6723 3.30673,13.2788 L12.7347,4.20949 Z</StreamGeometry>
        <StreamGeometry x:Key="arrow_right_regular">M15.2685,4.20949 C14.97,3.92233 14.4952,3.93153 14.208,4.23005 C13.9209,4.52857 13.9301,5.00335 14.2286,5.29051 L22.5028,13.25 L3.75,13.25 C3.33579,13.25 3,13.5858 3,13.9999982 C3,14.4142 3.33579,14.75 3.75,14.75 L22.5018,14.75 L14.2286,22.7085 C13.9301,22.9957 13.9209,23.4705 14.208,23.769 C14.4952,24.0675 14.97,24.0767 15.2685,23.7896 L24.6965,14.7202 C25.1054,14.3268 25.1054,13.6723 24.6965,13.2788 L15.2685,4.20949 Z</StreamGeometry>
        <StreamGeometry x:Key="close_regular">M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z</StreamGeometry>
        <StreamGeometry x:Key="arrow_minimize_regular">M4.25,15 L12.25,15 C12.6296958,15 12.943491,15.2821539 12.9931534,15.6482294 L13,15.75 L13,23.75 C13,24.1642136 12.6642136,24.5 12.25,24.5 C11.8703042,24.5 11.556509,24.2178461 11.5068466,23.8517706 L11.5,23.75 L11.5,17.56 L3.53033009,25.5303301 C3.23743687,25.8232233 2.76256313,25.8232233 2.46966991,25.5303301 C2.20340335,25.2640635 2.1791973,24.8473998 2.39705176,24.5537883 L2.46966991,24.4696699 L10.438,16.5 L4.25,16.5 C3.87030423,16.5 3.55650904,16.2178461 3.50684662,15.8517706 L3.5,15.75 C3.5,15.3703042 3.78215388,15.056509 4.14822944,15.0068466 L4.25,15 L12.25,15 L4.25,15 Z M25.5303301,2.46966991 C25.7965966,2.73593648 25.8208027,3.15260016 25.6029482,3.44621165 L25.5303301,3.53033009 L17.56,11.5 L23.75,11.5 C24.1296958,11.5 24.443491,11.7821539 24.4931534,12.1482294 L24.5,12.25 C24.5,12.6296958 24.2178461,12.943491 23.8517706,12.9931534 L23.75,13 L15.75,13 C15.3703042,13 15.056509,12.7178461 15.0068466,12.3517706 L15,12.25 L15,4.25 C15,3.83578644 15.3357864,3.5 15.75,3.5 C16.1296958,3.5 16.443491,3.78215388 16.4931534,4.14822944 L16.5,4.25 L16.5,10.438 L24.4696699,2.46966991 C24.7625631,2.1767767 25.2374369,2.1767767 25.5303301,2.46966991 Z</StreamGeometry>
        <StreamGeometry x:Key="uninstall_app_regular">M21.6946648,15.1468716 L21.7787832,15.2194898 C22.0450498,15.4857563 22.0692559,15.90242 21.8514014,16.1960315 L21.7787832,16.2801499 L19.5588198,18.4988198 L21.7787832,20.7181231 C22.0450498,20.9843896 22.0692559,21.4010533 21.8514014,21.6946648 L21.7787832,21.7787832 C21.5125167,22.0450498 21.095853,22.0692559 20.8022415,21.8514014 L20.7181231,21.7787832 L18.4988198,19.5588198 L16.2801499,21.7787832 C16.0138834,22.0450498 15.5972197,22.0692559 15.3036082,21.8514014 L15.2194898,21.7787832 C14.9532232,21.5125167 14.9290171,21.095853 15.1468716,20.8022415 L15.2194898,20.7181231 L17.4378198,18.4988198 L15.2194898,16.2801499 C14.9532232,16.0138834 14.9290171,15.5972197 15.1468716,15.3036082 L15.2194898,15.2194898 C15.4857563,14.9532232 15.90242,14.9290171 16.1960315,15.1468716 L16.2801499,15.2194898 L18.4988198,17.4378198 L20.7181231,15.2194898 C20.9843896,14.9532232 21.4010533,14.9290171 21.6946648,15.1468716 Z M18.75,3 C19.9926407,3 21,4.00735931 21,5.25 L21,10.5 C21,11.7426407 19.9926407,12.75 18.75,12.75 L12.75,12.75 L12.75,18.75 C12.75,19.9926407 11.7426407,21 10.5,21 L5.25,21 C4.00735931,21 3,19.9926407 3,18.75 L3,5.25 C3,4.00735931 4.00735931,3 5.25,3 L18.75,3 Z M11.25,12.749 L4.5,12.749 L4.5,18.75 C4.5,19.1642136 4.83578644,19.5 5.25,19.5 L10.5,19.5 C10.9142136,19.5 11.25,19.1642136 11.25,18.75 L11.25,12.749 Z M18.75,4.5 L12.75,4.5 L12.75,11.25 L18.75,11.25 C19.1642136,11.25 19.5,10.9142136 19.5,10.5 L19.5,5.25 C19.5,4.83578644 19.1642136,4.5 18.75,4.5 Z M11.25,4.5 L5.25,4.5 C4.83578644,4.5 4.5,4.83578644 4.5,5.25 L4.5,11.249 L11.25,11.25 L11.25,4.5 Z</StreamGeometry>
        <StreamGeometry x:Key="install_app_regular">
      M12,21.5l-8-4.7v-3.8l-4-2.4l5-4.7l7-3.3l7.2,3.3l4.8,4.7l-4,2.3v3.8L12,21.5z M13,12.2V19l5-3v-2l-2.1,1.2L13,12.2z M6,16
      l5,3v-6.8l-3.1,3L6,14V16z M13.4,10.5l2.9,2.7l5.2-3.1l-3-2.8L13.4,10.5z M2.6,10.1l5.1,3.1l2.9-2.7L5.5,7.3L2.6,10.1z M7.1,6.5
      l4.9,3l4.9-3L12,4.1L7.1,6.5z
    </StreamGeometry>
        <StreamGeometry x:Key="save_regular">M3 5.75C3 4.23122 4.23122 3 5.75 3H15.7145C16.5764 3 17.4031 3.34241 18.0126 3.9519L20.0481 5.98744C20.6576 6.59693 21 7.42358 21 8.28553V18.25C21 19.7688 19.7688 21 18.25 21H5.75C4.23122 21 3 19.7688 3 18.25V5.75ZM5.75 4.5C5.05964 4.5 4.5 5.05964 4.5 5.75V18.25C4.5 18.9404 5.05964 19.5 5.75 19.5H6V14.25C6 13.0074 7.00736 12 8.25 12H15.75C16.9926 12 18 13.0074 18 14.25V19.5H18.25C18.9404 19.5 19.5 18.9404 19.5 18.25V8.28553C19.5 7.8214 19.3156 7.37629 18.9874 7.0481L16.9519 5.01256C16.6918 4.75246 16.3582 4.58269 16 4.52344V7.25C16 8.49264 14.9926 9.5 13.75 9.5H9.25C8.00736 9.5 7 8.49264 7 7.25V4.5H5.75ZM16.5 19.5V14.25C16.5 13.8358 16.1642 13.5 15.75 13.5H8.25C7.83579 13.5 7.5 13.8358 7.5 14.25V19.5H16.5ZM8.5 4.5V7.25C8.5 7.66421 8.83579 8 9.25 8H13.75C14.1642 8 14.5 7.66421 14.5 7.25V4.5H8.5Z</StreamGeometry>
        <StreamGeometry x:Key="reset_regular">
            M960 0v213.333c411.627 0 746.667 334.934 746.667 746.667S1371.627 1706.667 960 1706.667 213.333 1371.733 213.333 960c0-197.013 78.4-382.507 213.334-520.747v254.08H640V106.667H53.333V320h191.04C88.64 494.08 0 720.96 0 960c0 529.28 430.613 960 960 960s960-430.72 960-960S1489.387 0 960 0
        </StreamGeometry>
        <StreamGeometry x:Key="install_app_list">
  M10.3,18.87l7,6.89a1,1,0,0,0,1.4,0l7-6.89a1,1,0,0,0-1.4-1.43L19,22.65V4a1,1,0,0,0-2,0V22.65l-5.3-5.21a1,1,0,0,0-1.4,1.43Z
  M31,15.4V30H5V10H9.38a1,1,0,0,0,0-2H5.08A2,2,0,0,0,3,10V30a2,2,0,0,0,2.08,2H30.92A2,2,0,0,0,33,30V15.4Z
  M26.85,1.14,21.13,11A1.28,1.28,0,0,0,22.23,13H33.68A1.28,1.28,0,0,0,34.78,11L29.06,1.14A1.28,1.28,0,0,0,26.85,1.14Z
  </StreamGeometry>
        <StreamGeometry x:Key="edit_regular">
 M21.2799 6.40005L11.7399 15.94C10.7899 16.89 7.96987 17.33 7.33987 16.7C6.70987 16.07 7.13987 13.25 8.08987 12.3L17.6399 2.75002C17.8754 2.49308 18.1605 2.28654 18.4781 2.14284C18.7956 1.99914 19.139 1.92124 19.4875 1.9139C19.8359 1.90657 20.1823 1.96991 20.5056 2.10012C20.8289 2.23033 21.1225 2.42473 21.3686 2.67153C21.6147 2.91833 21.8083 3.21243 21.9376 3.53609C22.0669 3.85976 22.1294 4.20626 22.1211 4.55471C22.1128 4.90316 22.0339 5.24635 21.8894 5.5635C21.7448 5.88065 21.5375 6.16524 21.2799 6.40005V6.40005Z
 M11 4H6C4.93913 4 3.92178 4.42142 3.17163 5.17157C2.42149 5.92172 2 6.93913 2 8V18C2 19.0609 2.42149 20.0783 3.17163 20.8284C3.92178 21.5786 4.93913 22 6 22H17C19.21 22 20 20.2 20 18V13
  </StreamGeometry>
    </Window.Resources>
    <DockPanel Background="#DDDDDDDD">
        <Grid DockPanel.Dock="Top" Height="48"
            Background="Transparent"
            PointerPressed="TitleBar_PointerPressed"
            ColumnDefinitions="Auto,1*,Auto">
            <Image Grid.Column="0"
                 Source="/Assets/avalonia-logo.ico"
          Width="24" Height="24"
          Margin="12,0,8,0"
          VerticalAlignment="Center"/>
            <!-- 标题文本 -->
            <TextBlock Grid.Column="1"
                     Classes="title-text"
                     Text="{x:Static lang:Resources.MainMenuTitle}"
                     VerticalAlignment="Center"/>
            <!-- 窗口控制按钮 -->
            <StackPanel Grid.Column="2" Orientation="Horizontal">
                <Button Classes="title-bar-btn"
                    Click="MinimizeButton_Click">
                    <PathIcon Data="{StaticResource arrow_minimize_regular}"/>
                </Button>
                <Button Classes="title-bar-btn close"
                    Click="CloseButton_Click"
                    Margin="0,0,10,0">
                    <PathIcon Data="{StaticResource close_regular}"/>
                </Button>
            </StackPanel>
        </Grid>
        <Grid Margin="20">
            <views:MainView />
        </Grid>
    </DockPanel>
</Window>
